// Version 1.1.4 canvas-color-tracker - https://github.com/vasturiano/canvas-color-tracker
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(r="undefined"!=typeof globalThis?globalThis:r||self).ColorTracker=t()}(this,(function(){"use strict";function r(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function t(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var n=[],e=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(e=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(r){o=!0,i=r}finally{try{e||null==u.return||u.return()}finally{if(o)throw i}}return n}(r,t)||function(r,t){if(!r)return;if("string"==typeof r)return n(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}var e=function(r){return r=153391689&((r=51130563&((r=50393103&((r=4278190335&((r&=1023)^r<<16))^r<<8))^r<<4))^r<<2)},o=function(r){return r=1023&((r=4278190335&((r=50393103&((r=51130563&((r&=153391689)^r>>2))^r>>4))^r>>8))^r>>16)},i=function(r){return(r=(170&(r=(204&(r=(240&r)>>4|(15&r)<<4))>>2|(51&r)<<2))>>1|(85&r)<<1)>>>0},a=function(r){return function(r){return r.toString(16).padStart(2,"0")}(i(r))},u=function(r){var t,n={r:o((t=r)>>2),g:o(t>>1),b:o(t)},e=n.g,i=n.b;return"#".concat(a(n.r)).concat(a(e)).concat(a(i))},f=function(r,t,n){return function(r,t,n){return(e(r)<<2)+(e(t)<<1)+e(n)}(i(r),i(t),i(n))};return function(){function n(){var r=this;!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.registry=[null],this.maxColors=16777215,this.isBrave=!1,navigator.brave&&navigator.brave.isBrave().then((function(t){t&&(r.isBrave=!0,r.maxColors=2097151)}))}var e,o,i;return e=n,(o=[{key:"register",value:function(r){if(this.registry.length>=this.maxColors)return null;var t=u(this.registry.length);return this.registry.push(r),t}},{key:"lookup",value:function(r){var n,e,o=t("string"==typeof r?(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r))?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null:r,3),i=o[0],a=o[1],u=o[2];return this.isBrave&&(i&=254,a&=254,u&=254),null!==(n=this.registry[f(i,a,u)])&&void 0!==n?n:null}}])&&r(e.prototype,o),i&&r(e,i),n}()}));
